assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
# jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
jpeg("test.jpeg")
#
GridArrangSharedLegend (local_plot_object, ncol = 3, nrow = 2, mainTitle = paste(ifelse(outcome == 'mx', 'Deaths', 'Incidence'), isex, iage),
mainLeft = 'Cases', mainBottom = 'Age')
dev.off()
}
## This saves plots for each disease by age and sex
# ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
#
## Add plot by age and sex and all diseases
male_index <- male_index + 1
}
}
if (isex == "female"){
p_list_female[[female_index]] <- p_index
if (female_index %% nplots_females == 0 && female_index > 0){
for (np in 1:nplots_females){
if (np != nplots_females)
assign(paste0("local_plot_object", np), p_list_female[[female_index - (nplots_females - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
}
}
}
}
}
}
}
}
nplots_males <- filter(DISEASE_SHORT_NAMES, males == 1 &(!acronym %in% c('no_pif' , 'other') & is_not_dis == 0)) %>% nrow()
DISEASE_SHORT_NAMES <<- read_csv(paste0(relative_path, "data/parameters/disease_names.csv"))
relative_path <- '../mh-mslt/'
pif_expanded <- read_csv(paste0(relative_path, "data/pif_expanded.csv"))
MSLT_DF <- read_csv(paste0(relative_path, "data/mslt_df.csv"))
DISEASE_SHORT_NAMES <<- read_csv(paste0(relative_path, "data/parameters/disease_names.csv"))
relative_path <- '../mh-mslt/'
pif_expanded <- read_csv(paste0(relative_path, "data/pif_expanded.csv"))
require(dplyr)
require(tidyverse)
require(knitr)
require(kableExtra)
require(citr)
require(gridExtra)
require(ggpubr)
require(grid)
require(ggplot2)
require(pillar)
require(devtools)
require(janitor)
pif_expanded <- read_csv(paste0(relative_path, "data/pif_expanded.csv"))
MSLT_DF <- read_csv(paste0(relative_path, "data/mslt_df.csv"))
DISEASE_SHORT_NAMES <<- read_csv(paste0(relative_path, "data/parameters/disease_names.csv"))
View(DISEASE_SHORT_NAMES)
nplots_males <- filter(DISEASE_SHORT_NAMES, males == 1 &(!acronym %in% c('no_pif' , 'other') & is_not_dis == 0)) %>% nrow()
nplots_females <- filter(DISEASE_SHORT_NAMES, females == 1 &(!acronym %in% c('no_pif' , 'other') & is_not_dis == 0)) %>% nrow()
i_outcome <- c("mx", "inc")
p_list_male <- list()
p_list_female <- list()
male_index <- 1
female_index <- 1
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, "num", "bl", DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, "num", "sc", DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, "num", "diff", DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
if (isex == "male"){
p_list_male[[male_index]] <- p_index
if (male_index %% nplots_males == 0 && male_index > 0){
for (np in 1:nplots_males){
if (np != nplots_males)
assign(paste0("local_plot_object", np), p_list_male[[male_index - (nplots_males - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
# jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
jpeg("test.jpeg")
#
GridArrangSharedLegend (local_plot_object, ncol = 3, nrow = 2, mainTitle = paste(ifelse(outcome == 'mx', 'Deaths', 'Incidence'), isex, iage),
mainLeft = 'Cases', mainBottom = 'Age')
dev.off()
}
## This saves plots for each disease by age and sex
# ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
#
## Add plot by age and sex and all diseases
male_index <- male_index + 1
}
}
if (isex == "female"){
p_list_female[[female_index]] <- p_index
if (female_index %% nplots_females == 0 && female_index > 0){
for (np in 1:nplots_females){
if (np != nplots_females)
assign(paste0("local_plot_object", np), p_list_female[[female_index - (nplots_females - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
}
}
}
}
}
}
}
}
i_outcome <- c("mx", "inc")
p_list_male <- list()
p_list_female <- list()
male_index <- 1
female_index <- 1
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, "num", "bl", DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, "num", "sc", DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, "num", "diff", DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
if (isex == "male"){
p_list_male[[male_index]] <- p_index
if (male_index %% nplots_males == 0 && male_index > 0){
for (np in 1:nplots_males){
if (np != nplots_males)
assign(paste0("local_plot_object", np), p_list_male[[male_index - (nplots_males - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
# jpeg("test.jpeg")
#
GridArrangSharedLegend (local_plot_object, ncol = 3, nrow = 2, mainTitle = paste(ifelse(outcome == 'mx', 'Deaths', 'Incidence'), isex, iage),
mainLeft = 'Cases', mainBottom = 'Age')
dev.off()
}
## This saves plots for each disease by age and sex
# ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
#
## Add plot by age and sex and all diseases
male_index <- male_index + 1
}
}
if (isex == "female"){
p_list_female[[female_index]] <- p_index
if (female_index %% nplots_females == 0 && female_index > 0){
for (np in 1:nplots_females){
if (np != nplots_females)
assign(paste0("local_plot_object", np), p_list_female[[female_index - (nplots_females - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
}
}
}
}
}
}
}
}
iage <- 17
isex <- "male"
i_outcome <- c("mx", "inc")
p_list_male <- list()
p_list_female <- list()
male_index <- 1
female_index <- 1
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, "num", "bl", DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, "num", "sc", DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, "num", "diff", DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
if (isex == "male"){
p_list_male[[male_index]] <- p_index
if (male_index %% nplots_males == 0 && male_index > 0){
for (np in 1:nplots_males){
if (np != nplots_males)
assign(paste0("local_plot_object", np), p_list_male[[male_index - (nplots_males - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
# jpeg("test.jpeg")
#
GridArrangSharedLegend (local_plot_object, ncol = 3, nrow = 2, mainTitle = paste(ifelse(outcome == 'mx', 'Deaths', 'Incidence'), isex, iage),
mainLeft = 'Cases', mainBottom = 'Age')
dev.off()
}
## This saves plots for each disease by age and sex
# ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
#
## Add plot by age and sex and all diseases
male_index <- male_index + 1
}
}
if (isex == "female"){
p_list_female[[female_index]] <- p_index
if (female_index %% nplots_females == 0 && female_index > 0){
for (np in 1:nplots_females){
if (np != nplots_females)
assign(paste0("local_plot_object", np), p_list_female[[female_index - (nplots_females - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
}
}
}
}
}
}
}
}
iage <- 17
isex <- "male"
i_outcome <- c("mx", "inc")
p_list_male <- list()
p_list_female <- list()
male_index <- 1
female_index <- 1
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, "num", "bl", DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, "num", "sc", DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, "num", "diff", DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
if (isex == "male"){
p_list_male[[male_index]] <- p_index
if (male_index %% nplots_males == 0 && male_index > 0){
for (np in 1:nplots_males){
if (np != nplots_males)
assign(paste0("local_plot_object", np), p_list_male[[male_index - (nplots_males - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
# jpeg("test.jpeg")
#
GridArrangSharedLegend (local_plot_object, ncol = 3, nrow = 2, mainTitle = paste(ifelse(outcome == 'mx', 'Deaths', 'Incidence'), isex, iage),
mainLeft = 'Cases', mainBottom = 'Age')
dev.off()
}
## This saves plots for each disease by age and sex
# ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
#
## Add plot by age and sex and all diseases
male_index <- male_index + 1
}
}
if (isex == "female"){
p_list_female[[female_index]] <- p_index
if (female_index %% nplots_females == 0 && female_index > 0){
for (np in 1:nplots_females){
if (np != nplots_females)
assign(paste0("local_plot_object", np), p_list_female[[female_index - (nplots_females - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
}
}
}
}
}
}
}
}
bl <- "num_bl"
sc <- "num_sc"
diff <- "num_diff"
# iage <- 17
# isex <- "male"
##### Outcomes to graph
i_outcome <- c("mx", "inc")
nplots_males <- filter(DISEASE_SHORT_NAMES, males == 1 &(!acronym %in% c('no_pif' , 'other') & is_not_dis == 0)) %>% nrow()
nplots_females <- filter(DISEASE_SHORT_NAMES, females == 1 &(!acronym %in% c('no_pif' , 'other') & is_not_dis == 0)) %>% nrow()
### Define variables names
bl <- "num_bl"
sc <- "num_sc"
diff <- "num_diff"
#### DISEASE DEATHS AND INCIDENCE: graphs by age and sex cohort, over the life course of cohort.
# iage <- 17
# isex <- "male"
##### Outcomes to graph
i_outcome <- c("mx", "inc")
p_list_male <- list()
p_list_female <- list()
male_index <- 1
female_index <- 1
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, bl, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
if (isex == "male"){
p_list_male[[male_index]] <- p_index
if (male_index %% nplots_males == 0 && male_index > 0){
for (np in 1:nplots_males){
if (np != nplots_males)
assign(paste0("local_plot_object", np), p_list_male[[male_index - (nplots_males - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
# jpeg("test.jpeg")
#
#
# GridArrangSharedLegend (local_plot_object, ncol = 3, nrow = 2, mainTitle = paste(ifelse(outcome == 'mx', 'Deaths', 'Incidence'), isex, iage),
# mainLeft = 'Cases', mainBottom = 'Age')
# dev.off()
}
## This saves plots for each disease by age and sex
# ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
#
## Add plot by age and sex and all diseases
male_index <- male_index + 1
}
}
if (isex == "female"){
p_list_female[[female_index]] <- p_index
if (female_index %% nplots_females == 0 && female_index > 0){
for (np in 1:nplots_females){
if (np != nplots_females)
assign(paste0("local_plot_object", np), p_list_female[[female_index - (nplots_females - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
}
}
}
}
}
}
}
}
iage <- 17
isex <- "male"
##### Outcomes to graph
i_outcome <- c("mx", "inc")
p_list_male <- list()
p_list_female <- list()
male_index <- 1
female_index <- 1
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, bl, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
if (isex == "male"){
p_list_male[[male_index]] <- p_index
if (male_index %% nplots_males == 0 && male_index > 0){
for (np in 1:nplots_males){
if (np != nplots_males)
assign(paste0("local_plot_object", np), p_list_male[[male_index - (nplots_males - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
# jpeg("test.jpeg")
#
#
# GridArrangSharedLegend (local_plot_object, ncol = 3, nrow = 2, mainTitle = paste(ifelse(outcome == 'mx', 'Deaths', 'Incidence'), isex, iage),
# mainLeft = 'Cases', mainBottom = 'Age')
# dev.off()
}
## This saves plots for each disease by age and sex
# ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
#
## Add plot by age and sex and all diseases
male_index <- male_index + 1
}
}
if (isex == "female"){
p_list_female[[female_index]] <- p_index
if (female_index %% nplots_females == 0 && female_index > 0){
for (np in 1:nplots_females){
if (np != nplots_females)
assign(paste0("local_plot_object", np), p_list_female[[female_index - (nplots_females - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
}
}
}
}
}
}
}
}
iage <- 17
isex <- "male"
##### Outcomes to graph
i_outcome <- c("mx", "inc")
p_list_male <- list()
p_list_female <- list()
male_index <- 1
female_index <- 1
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, bl, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
if (isex == "male"){
p_list_male[[male_index]] <- p_index
if (male_index %% nplots_males == 0 && male_index > 0){
for (np in 1:nplots_males){
if (np != nplots_males)
assign(paste0("local_plot_object", np), p_list_male[[male_index - (nplots_males - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
# jpeg("test.jpeg")
#
#
# GridArrangSharedLegend (local_plot_object, ncol = 3, nrow = 2, mainTitle = paste(ifelse(outcome == 'mx', 'Deaths', 'Incidence'), isex, iage),
# mainLeft = 'Cases', mainBottom = 'Age')
# dev.off()
}
## This saves plots for each disease by age and sex
ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
#
## Add plot by age and sex and all diseases
male_index <- male_index + 1
}
}
if (isex == "female"){
p_list_female[[female_index]] <- p_index
if (female_index %% nplots_females == 0 && female_index > 0){
for (np in 1:nplots_females){
if (np != nplots_females)
assign(paste0("local_plot_object", np), p_list_female[[female_index - (nplots_females - np)]] + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
else
assign(paste0("local_plot_object", np), p_index + theme(legend.position="none", axis.title.x = element_blank(),  axis.title.y = element_blank()))
}
}
}
}
}
}
}
}
output_dir = "output/"
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, bl, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".tiff", sep=""), width = 14, height = 10, units = "cm")
}}}}}
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, bl, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".jpeg", sep=""), width = 14, height = 10, units = "cm")
}
}
}
}
}
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, bl, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".jpeg", sep=""), width = 14, height = 10, units = "cm")
}
}
}
}
}
for (iage in i_age_cohort){
for (isex in i_sex) {
for (outcome in i_outcome) {
for (d in 1:nrow(DISEASE_SHORT_NAMES)) {
if (isex == "male" && (DISEASE_SHORT_NAMES$disease[d] %in% c("breast cancer", "uterine cancer"))
|| DISEASE_SHORT_NAMES$acronym[d] == "no_pif" || DISEASE_SHORT_NAMES$acronym[d] == "other" || DISEASE_SHORT_NAMES$is_not_dis[d] !=0){
}
else{
p_index  <- PlotOutput(in_data = output_df, in_age = iage, in_population = isex, in_outcomes = c("age", paste(outcome, bl, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_"), paste(outcome, sc, DISEASE_SHORT_NAMES$sname[d], sep = "_")), in_legend = "", in_disease = DISEASE_SHORT_NAMES$disease[d])
# jpeg(filename = paste0(output_dir, paste(iage, isex, outcome, sep="_"), ".jpeg"))
ggsave(p_index, file=paste(output_dir, DISEASE_SHORT_NAMES$sname[d], "_", isex, iage, ".jpeg", sep=""), width = 14, height = 10, units = "cm")
}
}
}
}
}
